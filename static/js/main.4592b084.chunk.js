(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,a,t){e.exports=t(72)},41:function(e,a,t){},43:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(32),l=t.n(c),i=(t(41),t(11)),o=t(12),s=t.n(o),u=t(9),m=t(19),d=t(3),v=(t(43),t(20)),p=t.n(v),f=r.a.createContext(),b=(t(8),t(13)),E=function(e){return e.favoriteList.includes(e.episode.id)?r.a.createElement("div",{className:"box "},r.a.createElement("div",null,r.a.createElement(b.a,{icon:"heart"})),r.a.createElement("div",null,e.episode.name),r.a.createElement("button",{className:"button is-danger is-rounded",onClick:function(){return e.removeFavorite(e.episode.id)}},"Remove from favorites")):r.a.createElement("div",{className:"box"},r.a.createElement("div",null,e.episode.name),r.a.createElement("button",{className:"button is-success is-rounded",onClick:function(){return e.makeFavorite(e.episode.id)}},"Add to favorites"))},g=function(e){var a=e.loadMore,t=e.currentPage,c=e.maxPage;Object(n.useContext)(f);return t<c&&r.a.createElement("button",{className:"button is-light",onClick:a},"Load more")},h=function(){var e=Object(n.useContext)(f);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)),e.episodes.map(function(a,t){return r.a.createElement(E,{key:t,episode:a,makeFavorite:e.makeFavorite,removeFavorite:e.removeFavorite,favoriteList:e.favoriteList})}),r.a.createElement(g,{loadMore:e.loadMoreEps,currentPage:e.epPage.currentPage,maxPage:e.epPage.maxPage}))},O=t(18),j=t(33),x=t(10),w=t(14),N=function(e,a){var t=a.type,n=a.id;switch(t){case"add":return[].concat(Object(i.a)(e),[n]);case"remove":return e.filter(function(e){return e!==n});default:return e}},C=function(e){return e.favoriteList.includes(e.character.id)?r.a.createElement("div",{className:"box "},r.a.createElement("div",null,r.a.createElement(b.a,{icon:"heart"})),r.a.createElement("div",null,e.character.name),r.a.createElement("img",{src:e.character.image}),r.a.createElement("button",{className:"button is-danger is-rounded",onClick:function(){return e.removeFavorite(e.character.id)}},"Remove from favorites")):r.a.createElement("div",{className:"box"},r.a.createElement("div",null,e.character.name),r.a.createElement("img",{src:e.character.image}),r.a.createElement("button",{className:"button is-success is-rounded",onClick:function(){return e.makeFavorite(e.character.id)}},"Add to favorites"))},k=function(){var e=Object(n.useContext)(f);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)),console.log("props are ",e),e.characters.map(function(a,t){return r.a.createElement(C,{key:t,character:a,makeFavorite:e.makeFavoriteChar,removeFavorite:e.removeFavoriteChar,favoriteList:e.favoriteChars})}),r.a.createElement(g,{loadMore:e.loadMoreChars,currentPage:e.charPage.currentPage,maxPage:e.charPage.maxPage}))},y=function(e){var a=e.loggedIn.favoriteList;if(0===a.length)return console.log("empty"),r.a.createElement("div",null);for(var t=0;t<a.length;t++)if(e.user.name!==e.loggedIn.name&&e.user.favoriteList.includes(a[t]))return r.a.createElement("div",{className:"box "},r.a.createElement("div",null,r.a.createElement(b.a,{icon:"heart"})),r.a.createElement("div",null,e.user.name," has similar tastes in episodes!"));return r.a.createElement("div",null)},P=function(e){var a=e.loggedIn.favoriteChars;if(0===a.length)return console.log("empty"),r.a.createElement("div",null);for(var t=0;t<a.length;t++)if(e.user.name!==e.loggedIn.name&&e.user.favoriteChars.includes(a[t]))return r.a.createElement("div",{className:"box "},r.a.createElement("div",null,r.a.createElement(b.a,{icon:"heart"})),r.a.createElement("div",null,e.user.name," has similar tastes in characters!"));return r.a.createElement("div",null)},L=function(){var e=Object(n.useContext)(f);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Users with similar tastes"),r.a.createElement("div",null,"In episodes:",e.users.map(function(a,t){return r.a.createElement("div",null,r.a.createElement(y,{key:t,user:a,loggedIn:e.loggedIn}))})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,"In characters:",e.users.map(function(a,t){return r.a.createElement("div",null,r.a.createElement(P,{key:t,user:a,loggedIn:e.loggedIn}))})))},I=t(16),F=function(){var e=Object(n.useContext)(f),a=Object(n.useState)({email:"",password:""}),t=Object(d.a)(a,2),c=t[0],l=t[1],i=function(e){var a=e.target,t=a.name,n=a.value;l(Object(u.a)({},c,Object(I.a)({},t,n)))};return r.a.createElement("div",null," If registered, log in:",r.a.createElement("form",{onSubmit:function(a){a.preventDefault();var t=e.users.find(function(e){return e.email===c.email&&e.password===c.password});t?(e.setLoggedIn(t),alert("Login successful!")):(alert("Email and password do not match. Try again!"),e.setLoggedIn(null))}},r.a.createElement("input",{className:"input",type:"email",name:"email",placeholder:"E-mail",value:c[""],onChange:i}),r.a.createElement("input",{className:"input",type:"password",name:"password",placeholder:"Password",value:c[""],onChange:i}),r.a.createElement("button",{className:"button",type:"submit"},"Login")))},S=function(){var e=Object(n.useContext)(f),a=Object(n.useState)({email:"",password:""}),t=Object(d.a)(a,2),c=t[0],l=t[1],o=function(e){var a=e.target,t=a.name,n=a.value;l(Object(u.a)({},c,Object(I.a)({},t,n)))};return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null)," If not, register below:",r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),void 0===e.users.find(function(e){return e.email===c.email||e.name===c.name})?e.addUsers([].concat(Object(i.a)(e.users),[{name:c.name,password:c.password,email:c.email}])):alert("Username or E-mail is already registered!"),console.log("users are now ",e.users)}},r.a.createElement("input",{className:"input",type:"name",placeholder:"Username",name:"name",value:c[""],onChange:o}),r.a.createElement("input",{className:"input",type:"email",placeholder:"E-mail",name:"email",value:c[""],onChange:o}),r.a.createElement("input",{className:"input",type:"password",placeholder:"Password",name:"password",value:c[""],onChange:o}),r.a.createElement("button",{className:"button",type:"submit"},"Register")))};O.b.add(j.a);var M=function(e){var a=Object(n.useState)(null),t=Object(d.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)([{name:"Diego",password:"910440",email:"diegosalva.ds@gmail.com",favoriteList:[],favoriteChars:[]},{name:"Mische",password:"710999",email:"mischekang@gmail.com",favoriteList:[3,5],favoriteChars:[4,5]}]),v=Object(d.a)(o,2),b=v[0],E=v[1],g=Object(n.useState)([]),O=Object(d.a)(g,2),j=O[0],C=O[1],y=Object(n.useState)({currentPage:1,next:"",maxPage:null}),P=Object(d.a)(y,2),I=P[0],M=P[1];Object(n.useEffect)(function(){!function(){var e=Object(m.a)(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://rickandmortyapi.com/api/episode/");case 2:a=e.sent,C(a.data.results),M(Object(u.a)({},I,{next:a.data.info.next,maxPage:a.data.info.pages}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var U=function(){var e=Object(m.a)(s.a.mark(function e(){var a,t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=I.next,t=I.currentPage,e.next=3,p.a.get(a);case 3:n=e.sent,C([].concat(Object(i.a)(j),Object(i.a)(n.data.results))),M(Object(u.a)({},I,{next:n.data.info.next,currentPage:t+1}));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=Object(n.useState)([]),A=Object(d.a)(R,2),B=A[0],D=A[1],G=Object(n.useState)({currentPage:1,next:"",maxPage:null}),J=Object(d.a)(G,2),T=J[0],W=J[1];Object(n.useEffect)(function(){!function(){var e=Object(m.a)(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://rickandmortyapi.com/api/character/");case 2:a=e.sent,D(a.data.results),W(Object(u.a)({},T,{next:a.data.info.next,maxPage:a.data.info.pages}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var $=function(){var e=Object(m.a)(s.a.mark(function e(){var a,t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=T.next,t=T.currentPage,e.next=3,p.a.get(a);case 3:n=e.sent,D([].concat(Object(i.a)(B),Object(i.a)(n.data.results))),W(Object(u.a)({},T,{next:n.data.info.next,currentPage:t+1}));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),q=Object(n.useReducer)(N,[]),z=Object(d.a)(q,2),H=z[0],K=z[1];function Q(){E(b.map(function(e){return c.name===e.name&&(e.favoriteList=H),e}))}var V=Object(n.useState)([]),X=Object(d.a)(V,2),Y=X[0],Z=X[1];var _=Object(n.useReducer)(N,[]),ee=Object(d.a)(_,2),ae=ee[0],te=ee[1];function ne(){E(b.map(function(e){return c.name===e.name&&(e.favoriteChars=ae),e}))}var re={episodes:j,characters:B,makeFavorite:function(e){K({type:"add",id:e}),Q(),function(e){Z(b.map(function(a){a.favoriteList.includes(e)&&a.name!==c.name&&(a=a.name)}))}(e)},removeFavorite:function(e){K({type:"remove",id:e}),Q()},makeFavoriteChar:function(e){te({type:"add",id:e}),ne()},removeFavoriteChar:function(e){te({type:"remove",id:e}),ne()},favoriteList:H,sameLikes:Y,favoriteChars:ae,loadMoreEps:U,loadMoreChars:$,epPage:I,charPage:T,loggedIn:c,setLoggedIn:l,users:b,addUsers:E};return r.a.createElement(f.Provider,{value:re},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(x.a,null,r.a.createElement("nav",{className:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},!c&&r.a.createElement("a",{className:"navbar-item"},r.a.createElement(x.b,{to:"/login",className:"button is-primary"},"LOG IN")),r.a.createElement("a",{role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false"},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),c&&r.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement("a",{className:"navbar-item"},r.a.createElement(x.b,{to:"/login/",className:"button is-danger",onClick:function(){return l(null)}},"LOG OUT")),r.a.createElement("a",{className:"navbar-item"},r.a.createElement(x.b,{to:"/episodes/",className:"button is-info"},"Episodes")),r.a.createElement("a",{className:"navbar-item"},r.a.createElement(x.b,{to:"/characters/",className:"button is-info"},"Characters")),r.a.createElement("a",{className:"navbar-item"},r.a.createElement(x.b,{to:"/favorites/",className:"button is-info"},"Similar tastes"))))),r.a.createElement(w.a,{path:"/login",component:F}),r.a.createElement(w.a,{path:"/login",component:S}),r.a.createElement(w.a,{path:"/episodes/",component:h}),r.a.createElement(w.a,{path:"/characters/",component:k}),r.a.createElement(w.a,{path:"/favorites/",component:L})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.4592b084.chunk.js.map